{"version":3,"sources":["rc-galleria.js"],"names":["angular","$","module","provider","path","theme","options","showInfo","_toggleInfo","this","setPath","input","setTheme","setOptions","$get","galleriaFactory","directive","$timeout","$log","rcGalleria","restrict","scope","sources","images","currentIndex","keepSource","src","transition","initialTransition","imageCrop","showImagenav","autoplay","pauseOnInteraction","responsive","initialShowDock","thumbnails","toggleInfo","showCounter","clickNext","iFrameTimeoutPoster","iFramePoster","videoPoster","template","link","$scope","$element","attrs","theme_path","isDefined","isUndefined","length","parseInt","currentSource","console","log","Galleria","loadTheme","obj","find","GalleriaApiReference","configure","extend","show","clicknext","run","style","append","debug","get","firstImageLoaded","ready","e","_options","swipe","self","finger","config","oncomplete","page","index","Math","max","min","getDataLength","data","getData","_thumbnails","container","addClass","siblings","removeClass","iframe","css","hide","remove","carousel","carouselFollow","_carousel","follow","on","click","imageTarget","trigger","$emit","$apply","$on","destroy","jQuery"],"mappings":"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","file":"rc-galleria.js","sourcesContent":["(function (angular, $) {\n\n    'use strict';\n\n    // Create module\n    var module = angular.module('rcGalleria', []);\n\n    module.provider('rcGalleria', [ function () {\n\n        var path = '';\n        var theme = '';\n        // default config\n        var options = {\n            showInfo: true,\n            _toggleInfo: false\n        };\n\n        this.setPath = function(input){\n            path = input;\n        };\n\n        this.setTheme = function(input){\n            theme = input;\n        };\n\n        this.setOptions = function(input){\n            options = input;\n        };\n        this.$get = function galleriaFactory(){\n            return {\n                path: path,\n                theme: theme,\n                options:options\n            };\n        };\n    }]);\n\n    module.directive('rcGalleria', [ '$timeout', '$log', 'rcGalleria', function ($timeout, $log, rcGalleria) {\n        return {\n            restrict: 'E',\n            scope: {\n                sources: '=',\n                images: '=',\n                currentIndex: '=',\n                keepSource: '@',\n                src: '@',\n                theme: '@',\n                transition: '@',\n                initialTransition: '@',\n                imageCrop: '@',\n                showImagenav: '@',\n                autoplay: '@',\n                pauseOnInteraction: '@',\n                responsive: '@',\n                initialShowDock: '@',\n                thumbnails: '@',\n                showInfo: '@',\n                toggleInfo: '@',\n                showCounter: '@',\n                clickNext: '@',\n                iFrameTimeoutPoster: '@',\n                iFramePoster: '@',\n                videoPoster: '@'\n            },\n            template: '<div class=\"galleria\" style=\"height: 100%; width: 100%\" data-ng-class=\"{\\'galleria-current-iframe\\': currentSource.iframe, \\'galleria-current-video\\': currentSource.video, \\'galleria-current-image\\': currentSource.image }\">' +\n            '<div data-ng-repeat=\"source in sources\">' +\n            '<a data-ng-if=\"source.iframe\" data-ng-href=\"{{source.iframe}}\"><img data-ng-if=\"source.thumb\" class=\"iframe\" data-ng-src=\"{{source.thumb}}\" data-title=\"{{source.title}}\"' +\n            ' data-description=\"{{source.description}}\" alt=\"{{source.alt}}\" />' +\n            '<span data-ng-if=\"!source.thumb\" class=\"iframe\">{{source.title}}</span>' +\n            '</a>' +\n            '<a data-ng-if=\"source.video\" data-ng-href=\"{{source.video}}\"><img data-ng-if=\"source.thumb\" class=\"video\" data-ng-src=\"{{source.thumb}}\" data-title=\"{{source.title}}\"' +\n            ' data-description=\"{{source.description}}\" alt=\"{{source.alt}}\" />' +\n            '<span data-ng-if=\"!source.thumb\" class=\"video\">{{source.title}}</span>' +\n            '</a>' +\n            '<a data-ng-if=\"source.image\" data-ng-href=\"{{source.image}}\">' +\n            '<img data-ng-src=\"{{source.thumb}}\" data-title=\"{{source.title}}\" data-description=\"{{source.description}}\" alt=\"{{source.alt}}\"' +\n            ' data-big=\"{{source.big_image}}\" />' +\n            '</a>' +\n            '</div>' +\n            '</div>',\n            link: function ($scope, $element, attrs) {\n\n                var theme_path = '';\n\n                if( angular.isDefined($scope.src) && angular.isUndefined($scope.theme)){\n                    theme_path = $scope.src;\n                }\n                else if( angular.isDefined($scope.src) && angular.isDefined($scope.theme) ){\n                    theme_path = $scope.src + '/' + $scope.theme + '/galleria.' + $scope.theme + '.min.js';\n                }\n                else if (rcGalleria.path.length > 0 && rcGalleria.theme.length === 0){\n                    theme_path = rcGalleria.path;\n                }\n                else if (rcGalleria.path.length > 0 && rcGalleria.theme.length > 0){\n                    theme_path = rcGalleria.path + '/' + rcGalleria.theme + '/galleria.' + rcGalleria.theme + '.min.js';\n                }\n\n                $scope.iFramePoster = $scope.iFramePoster === 'true';\n                $scope.iFrameTimeoutPoster = angular.isDefined($scope.iFrameTimeoutPoster) ? parseInt($scope.iFrameTimeoutPoster, 10) : 0;\n                $scope.currentSource = {};\n\n                if (angular.isDefined($scope.images) && angular.isUndefined($scope.sources)) {\n                    $scope.sources = $scope.images;\n                }\n\n\n                if (theme_path.length > 0) {\n                    console.log(theme_path);\n                    Galleria.loadTheme( theme_path );\n                }\n\n\n                var obj = $element.find('.galleria');\n                var GalleriaApiReference;\n                var initialShowDock = $scope.initialShowDock === 'true';\n\n                $timeout(function () {\n\n                    $scope.currentIndex = angular.isDefined($scope.currentIndex) ? parseInt($scope.currentIndex, 10) : 0;\n                    $scope.currentSource = $scope.sources[$scope.currentIndex];\n\n                    if( $scope.thumbnails != null ) {\n                        switch( $scope.thumbnails ) {\n                            case 'true':\n                                $scope.thumbnails = true;\n                                break;\n                            case 'false':\n                                $scope.thumbnails = false;\n                                break;\n                        }\n                    }\n                    else {\n                        $scope.thumbnails = true;\n                    }\n\n                    Galleria.configure(angular.extend(rcGalleria.options,{\n                        show: $scope.currentIndex,\n                        keepSource: $scope.keepSource === 'true', // this prevents galleria from clearing the data source container\n                        transition: $scope.transition,\n                        initialTransition: $scope.transition,\n                        imageCrop: $scope.imageCrop,\n                        showImagenav: $scope.showImagenav === 'true',\n                        autoplay: angular.isDefined($scope.autoplay) ? parseInt($scope.autoplay, 10) : false,\n                        pauseOnInteraction: $scope.pauseOnInteraction === 'true',\n                        responsive: $scope.responsive === 'true',\n                        thumbnails: $scope.thumbnails,\n                        showInfo: $scope.showInfo === 'true',\n                        _toggleInfo: $scope.toggleInfo === 'true',\n                        showCounter: $scope.showCounter === 'true',\n                        clicknext: $scope.clickNext === 'true',\n                        videoPoster: $scope.videoPoster === 'true'\n                    }));\n\n                    Galleria.run(obj, {\n                        extend: function(){\n                            GalleriaApiReference = this;\n\n                            if (!$scope.iFramePoster) {\n                                //Add Global style for image poster iframe hidden.\n                                var style = $('<style type=\"text/css\">.galleria-current-iframe .galleria-stage .galleria-image img { visibility: hidden; }</style>');\n                                $('html > head').append(style);\n                            }\n                        }\n                    });\n\n                    //Display console log all gallery instance\n                    $log.debug(Galleria.get());\n\n                    //Show dock thumbnail on load\n\n                    var firstImageLoaded = false;\n                    Galleria.ready(function(e) {\n                        $log.debug(e);\n                        $log.debug(this);\n\n                        //Override finder functions if iFrameTimeoutPoster.\n                        if ( this._options.swipe && $scope.iFrameTimeoutPoster > 0) {\n                            var self = this;\n\n                            //Override Finger Galleria for filter remove iframe only if new current source is not ifrmae or video.\n                            this.finger.config.oncomplete = function(page) {\n\n                                var index = Math.max( 0, Math.min( parseInt( page, 10 ), self.getDataLength() - 1 ) ),\n                                    data = self.getData(index);\n\n                                $( self._thumbnails[ index ].container )\n                                    .addClass( 'active' )\n                                    .siblings( '.active' )\n                                    .removeClass( 'active' );\n\n                                if ( !data ) {\n                                    return;\n                                }\n\n                                //Compatibility with iframe not remove on click if current source is iframe.\n                                if (angular.isUndefined($scope.currentSource.iframe)) {\n                                    // remove video iframes\n                                    self.$( 'images' ).find( '.galleria-frame' ).css('opacity', 0).hide().find( 'iframe' ).remove();\n                                }\n\n                                if ( self._options.carousel && self._options.carouselFollow ) {\n                                    self._carousel.follow( index );\n                                }\n                            };\n                        }\n\n                        Galleria.on(\"image\", function(e) {\n\n                            if ( this === GalleriaApiReference) {\n\n                                if (!firstImageLoaded && initialShowDock === true ) {\n                                    this.$('thumbnails-tab').click();\n                                    firstImageLoaded = true;\n                                }\n\n                                if (angular.isDefined($scope.currentSource.iframe)) {\n\n                                    $timeout(function () {\n                                        if ( $scope.iFrameTimeoutPoster > 0 ) {\n                                            $(e.imageTarget ).click();\n                                            $(e.imageTarget ).trigger('mouseup');\n                                        }\n                                        $scope.$emit('rcGalleria.iframe-loaded', e);\n                                    }, $scope.iFrameTimeoutPoster);\n                                }\n                                else {\n                                    $scope.$emit('rcGalleria.image-loaded', e);\n                                }\n                            }\n                        });\n                        Galleria.on(\"loadstart\", function(e) {\n\n                            if ( this === GalleriaApiReference) {\n                                $scope.currentIndex = e.index;\n                                $scope.currentSource = $scope.sources[$scope.currentIndex];\n                                $scope.$apply();\n\n                                if (angular.isDefined($scope.currentSource.iframe)) {\n                                    $scope.$emit('rcGalleria.iframe-load', e);\n                                }\n                                else {\n                                    $scope.$emit('rcGalleria.image-load', e);\n                                }\n                            }\n                        });\n                    });\n\n                });\n\n                $scope.$on('$destroy', function() {\n                    if(GalleriaApiReference && GalleriaApiReference.destroy) {\n                        GalleriaApiReference.destroy();\n                    }\n                });\n            }\n        };\n    }]);\n\n}(angular, jQuery));\n"],"sourceRoot":"dist"}