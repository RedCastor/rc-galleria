{"version":3,"sources":["rc-galleria.js"],"names":["angular","$","module","provider","path","theme","options","showInfo","_toggleInfo","this","setPath","input","setTheme","setOptions","$get","galleriaFactory","directive","$timeout","$log","rcGalleria","restrict","scope","sources","images","currentIndex","keepSource","src","transition","initialTransition","imageCrop","showImagenav","autoplay","pauseOnInteraction","responsive","initialShowDock","thumbnails","toggleInfo","showCounter","clickNext","iFrameTimeoutPoster","template","link","$scope","$element","attrs","theme_path","isDefined","isUndefined","length","parseInt","currentSource","console","log","Galleria","loadTheme","obj","find","GalleriaApiReference","configure","extend","show","clicknext","run","debug","get","firstImageLoaded","ready","e","on","click","iframe","video","imageTarget","mouseup","$emit","index","$apply","$on","destroy","jQuery"],"mappings":"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","file":"rc-galleria.js","sourcesContent":["(function (angular, $) {\n\n    'use strict';\n\n    // Create module\n    var module = angular.module('rcGalleria', []);\n\n    module.provider('rcGalleria', [ function () {\n\n        var path = '';\n        var theme = '';\n        // default config\n        var options = {\n            showInfo: true,\n            _toggleInfo: false\n        };\n\n        this.setPath = function(input){\n            path = input;\n        };\n\n        this.setTheme = function(input){\n            theme = input;\n        };\n\n        this.setOptions = function(input){\n            options = input;\n        };\n        this.$get = function galleriaFactory(){\n            return {\n                path: path,\n                theme: theme,\n                options:options\n            };\n        };\n    }]);\n\n    module.directive('rcGalleria', [ '$timeout', '$log', 'rcGalleria', function ($timeout, $log, rcGalleria) {\n        return {\n            restrict: 'E',\n            scope: {\n                sources: '=',\n                images: '=',\n                currentIndex: '=',\n                keepSource: '@',\n                src: '@',\n                theme: '@',\n                transition: '@',\n                initialTransition: '@',\n                imageCrop: '@',\n                showImagenav: '@',\n                autoplay: '@',\n                pauseOnInteraction: '@',\n                responsive: '@',\n                initialShowDock: '@',\n                thumbnails: '@',\n                showInfo: '@',\n                toggleInfo: '@',\n                showCounter: '@',\n                clickNext: '@',\n                iFrameTimeoutPoster: '@'\n            },\n            template: '<div class=\"galleria\" style=\"height: 100%; width: 100%\" data-ng-class=\"{\\'galleria-current-iframe\\': currentSource.iframe, \\'galleria-current-video\\': currentSource.video, \\'galleria-current-image\\': currentSource.image }\">' +\n            '<div data-ng-repeat=\"source in sources\">' +\n            '<a data-ng-if=\"source.iframe\" data-ng-href=\"{{source.iframe}}\"><img data-ng-if=\"source.thumb\" class=\"iframe\" data-ng-src=\"{{source.thumb}}\" data-title=\"{{source.title}}\"' +\n            ' data-description=\"{{source.description}}\" alt=\"{{source.alt}}\" />' +\n            '<span data-ng-if=\"!source.thumb\" class=\"iframe\">{{source.title}}</span>' +\n            '</a>' +\n            '<a data-ng-if=\"source.video\" data-ng-href=\"{{source.video}}\"><img data-ng-if=\"source.thumb\" class=\"video\" data-ng-src=\"{{source.thumb}}\" data-title=\"{{source.title}}\"' +\n            ' data-description=\"{{source.description}}\" alt=\"{{source.alt}}\" />' +\n            '<span data-ng-if=\"!source.thumb\" class=\"video\">{{source.title}}</span>' +\n            '</a>' +\n            '<a data-ng-if=\"source.image\" data-ng-href=\"{{source.image}}\">' +\n            '<img data-ng-src=\"{{source.thumb}}\" data-title=\"{{source.title}}\" data-description=\"{{source.description}}\" alt=\"{{source.alt}}\"' +\n            ' data-big=\"{{source.big_image}}\" />' +\n            '</a>' +\n            '</div>' +\n            '</div>',\n            link: function ($scope, $element, attrs) {\n\n                var theme_path = '';\n\n                if( angular.isDefined($scope.src) && angular.isUndefined($scope.theme)){\n                    theme_path = $scope.src;\n                }\n                else if( angular.isDefined($scope.src) && angular.isDefined($scope.theme) ){\n                    theme_path = $scope.src + '/' + $scope.theme + '/galleria.' + $scope.theme + '.min.js';\n                }\n                else if (rcGalleria.path.length > 0 && rcGalleria.theme.length === 0){\n                    theme_path = rcGalleria.path;\n                }\n                else if (rcGalleria.path.length > 0 && rcGalleria.theme.length > 0){\n                    theme_path = rcGalleria.path + '/' + rcGalleria.theme + '/galleria.' + rcGalleria.theme + '.min.js';\n                }\n\n                $scope.iFrameTimeoutPoster = angular.isDefined($scope.iFrameTimeoutPoster) ? parseInt($scope.iFrameTimeoutPoster, 10) : 0;\n                $scope.currentSource = {};\n\n                if (angular.isDefined($scope.images) && angular.isUndefined($scope.sources)) {\n                    $scope.sources = $scope.images;\n                }\n\n\n                if (theme_path.length > 0) {\n                    console.log(theme_path);\n                    Galleria.loadTheme( theme_path );\n                }\n\n\n                var obj = $element.find('.galleria');\n                var GalleriaApiReference;\n                var initialShowDock = $scope.initialShowDock === 'true';\n\n                $timeout(function () {\n\n                    $scope.currentIndex = angular.isDefined($scope.currentIndex) ? parseInt($scope.currentIndex, 10) : 0;\n                    $scope.currentSource = $scope.sources[$scope.currentIndex];\n\n                    if( $scope.thumbnails != null ) {\n                        switch( $scope.thumbnails ) {\n                            case 'true':\n                                $scope.thumbnails = true;\n                                break;\n                            case 'false':\n                                $scope.thumbnails = false;\n                                break;\n                        }\n                    }\n                    else {\n                        $scope.thumbnails = true;\n                    }\n\n                    Galleria.configure(angular.extend(rcGalleria.options,{\n                        show: $scope.currentIndex,\n                        keepSource: $scope.keepSource === 'true', // this prevents galleria from clearing the data source container\n                        transition: $scope.transition,\n                        initialTransition: $scope.transition,\n                        imageCrop: $scope.imageCrop,\n                        showImagenav: $scope.showImagenav === 'true',\n                        autoplay: angular.isDefined($scope.autoplay) ? parseInt($scope.autoplay, 10) : false,\n                        pauseOnInteraction: $scope.pauseOnInteraction === 'true',\n                        responsive: $scope.responsive === 'true',\n                        thumbnails: $scope.thumbnails,\n                        showInfo: $scope.showInfo === 'true',\n                        _toggleInfo: $scope.toggleInfo === 'true',\n                        showCounter: $scope.showCounter === 'true',\n                        clicknext: $scope.clickNext === 'true'\n                    }));\n\n                    Galleria.run(obj, {\n                        extend: function(){\n                            GalleriaApiReference = this;\n                        }\n                    });\n\n                    //Display console log all gallery instance\n                    $log.debug(Galleria.get());\n\n                    //Show dock thumbnail on load\n\n                    var firstImageLoaded = false;\n                    Galleria.ready(function(e) {\n                        Galleria.on(\"image\", function(e) {\n\n                            if ( this === GalleriaApiReference) {\n\n                                $log.debug('rcGalleria image');\n\n                                if (!firstImageLoaded && initialShowDock === true ) {\n                                    this.$('thumbnails-tab').click();\n                                    firstImageLoaded = true;\n                                }\n\n                                if (angular.isDefined($scope.currentSource.iframe) || angular.isDefined($scope.currentSource.video)) {\n\n                                    $timeout(function () {\n                                        if ( $scope.iFrameTimeoutPoster > 0 ) {\n                                            $(e.imageTarget ).mouseup();\n                                        }\n                                        $scope.$emit('rcGalleria.iframe-loaded', e);\n                                    }, $scope.iFrameTimeoutPoster);\n                                }\n                                else {\n                                    $scope.$emit('rcGalleria.image-loaded', e);\n                                }\n                            }\n                        });\n                        Galleria.on(\"loadstart\", function(e) {\n\n                            if ( this === GalleriaApiReference) {\n                                $scope.currentIndex = e.index;\n                                $scope.currentSource = $scope.sources[$scope.currentIndex];\n                                $scope.$apply();\n\n                                $log.debug('rcGalleria loadstart');\n\n                                if (angular.isDefined($scope.currentSource.iframe) || angular.isDefined($scope.currentSource.video)) {\n                                    $scope.$emit('rcGalleria.iframe-load', e);\n                                }\n                                else {\n                                    $scope.$emit('rcGalleria.image-load', e);\n                                }\n                            }\n                        });\n                    });\n\n                });\n\n                $scope.$on('$destroy', function() {\n                    if(GalleriaApiReference && GalleriaApiReference.destroy) {\n                        GalleriaApiReference.destroy();\n                    }\n                });\n            }\n        };\n    }]);\n\n}(angular, jQuery));\n"],"sourceRoot":"dist"}