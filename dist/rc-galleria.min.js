!function(e,t){"use strict";var i=e.module("rcGalleria",[]);i.provider("rcGalleria",[function(){var e="",t="",i={showInfo:!0,_toggleInfo:!1};this.setPath=function(t){e=t},this.setTheme=function(e){t=e},this.setOptions=function(e){i=e},this.$get=function(){return{path:e,theme:t,options:i}}}]),i.directive("rcGalleria",["$timeout","$log","rcGalleria",function(i,a,r){return{restrict:"E",scope:{sources:"=",images:"=",currentIndex:"=",keepSource:"@",src:"@",theme:"@",transition:"@",initialTransition:"@",imageCrop:"@",showImagenav:"@",autoplay:"@",pauseOnInteraction:"@",responsive:"@",initialShowDock:"@",thumbnails:"@",showInfo:"@",toggleInfo:"@",showCounter:"@",clickNext:"@",iFrameTimeoutPoster:"@"},template:'<div class="galleria" style="height: 100%; width: 100%" data-ng-class="{\'galleria-current-iframe\': currentSource.iframe, \'galleria-current-video\': currentSource.video, \'galleria-current-image\': currentSource.image }"><div data-ng-repeat="source in sources"><a data-ng-if="source.iframe" data-ng-href="{{source.iframe}}"><img data-ng-if="source.thumb" class="iframe" data-ng-src="{{source.thumb}}" data-title="{{source.title}}" data-description="{{source.description}}" alt="{{source.alt}}" /><span data-ng-if="!source.thumb" class="iframe">{{source.title}}</span></a><a data-ng-if="source.video" data-ng-href="{{source.video}}"><img data-ng-if="source.thumb" class="video" data-ng-src="{{source.thumb}}" data-title="{{source.title}}" data-description="{{source.description}}" alt="{{source.alt}}" /><span data-ng-if="!source.thumb" class="video">{{source.title}}</span></a><a data-ng-if="source.image" data-ng-href="{{source.image}}"><img data-ng-src="{{source.thumb}}" data-title="{{source.title}}" data-description="{{source.description}}" alt="{{source.alt}}" data-big="{{source.big_image}}" /></a></div></div>',link:function(n,o,s){var u="";e.isDefined(n.src)&&e.isUndefined(n.theme)?u=n.src:e.isDefined(n.src)&&e.isDefined(n.theme)?u=n.src+"/"+n.theme+"/galleria."+n.theme+".min.js":r.path.length>0&&0===r.theme.length?u=r.path:r.path.length>0&&r.theme.length>0&&(u=r.path+"/"+r.theme+"/galleria."+r.theme+".min.js"),n.iFrameTimeoutPoster=e.isDefined(n.iFrameTimeoutPoster)?parseInt(n.iFrameTimeoutPoster,10):0,n.currentSource={},e.isDefined(n.images)&&e.isUndefined(n.sources)&&(n.sources=n.images),u.length>0&&(console.log(u),Galleria.loadTheme(u));var c,l=o.find(".galleria"),d="true"===n.initialShowDock;i(function(){if(n.currentIndex=e.isDefined(n.currentIndex)?parseInt(n.currentIndex,10):0,n.currentSource=n.sources[n.currentIndex],null!=n.thumbnails)switch(n.thumbnails){case"true":n.thumbnails=!0;break;case"false":n.thumbnails=!1}else n.thumbnails=!0;Galleria.configure(e.extend(r.options,{show:n.currentIndex,keepSource:"true"===n.keepSource,transition:n.transition,initialTransition:n.transition,imageCrop:n.imageCrop,showImagenav:"true"===n.showImagenav,autoplay:!!e.isDefined(n.autoplay)&&parseInt(n.autoplay,10),pauseOnInteraction:"true"===n.pauseOnInteraction,responsive:"true"===n.responsive,thumbnails:n.thumbnails,showInfo:"true"===n.showInfo,_toggleInfo:"true"===n.toggleInfo,showCounter:"true"===n.showCounter,clicknext:"true"===n.clickNext})),Galleria.run(l,{extend:function(){c=this}}),a.debug(Galleria.get());var o=!1;Galleria.ready(function(r){Galleria.on("image",function(r){this===c&&(a.debug("rcGalleria image"),o||!0!==d||(this.$("thumbnails-tab").click(),o=!0),e.isDefined(n.currentSource.iframe)||e.isDefined(n.currentSource.video)?i(function(){n.iFrameTimeoutPoster>0&&t(r.imageTarget).mouseup(),n.$emit("rcGalleria.iframe-loaded",r)},n.iFrameTimeoutPoster):n.$emit("rcGalleria.image-loaded",r))}),Galleria.on("loadstart",function(t){this===c&&(n.currentIndex=t.index,n.currentSource=n.sources[n.currentIndex],n.$apply(),a.debug("rcGalleria loadstart"),e.isDefined(n.currentSource.iframe)||e.isDefined(n.currentSource.video)?n.$emit("rcGalleria.iframe-load",t):n.$emit("rcGalleria.image-load",t))})})}),n.$on("$destroy",function(){c&&c.destroy&&c.destroy()})}}}])}(angular,jQuery);